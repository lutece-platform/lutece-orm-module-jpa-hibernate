   <div class="content-box">
	    <h2>#i18n{module.jpa.hibernate.monitor.stats.title}</h2>
	    <p>
	    <label>#i18n{module.jpa.hibernate.monitor.stats.state} : </label>
	    	<#if stats_state>
	    		#i18n{module.jpa.hibernate.monitor.jmx.activated}
	    	<#else>
	    		#i18n{module.jpa.hibernate.monitor.jmx.notActivated}
	    	</#if>
	    </p>
	    <p>
	    <label for="stats_state">&nbsp;</label>
	    <#if !stats_state>
	    <form method="post" action="jsp/admin/plugins/jpa/modules/hibernate/DoEnableStatistics.jsp">
	    	<input type="submit" id="stats_state" name="stats_state" value="#i18n{module.jpa.hibernate.monitor.stats.buttonEnable}" class="button" />
	    </form>
	    <#else>
	    <form method="post" action="jsp/admin/plugins/jpa/modules/hibernate/DoDisableStatistics.jsp">
	    	<input type="submit" id="stats_state" name="stats_state" value="#i18n{module.jpa.hibernate.monitor.stats.buttonDisable}" class="button" />
	    </form>
	    </#if>
	    </p>
    </div>
   
   <div class="content-box">
	    <h2>#i18n{module.jpa.hibernate.monitor.jmx.title}</h2>
	    <p>
	    <label>#i18n{module.jpa.hibernate.monitor.jmx.status} : </label>
	    	<#if jmx_state>
	    		#i18n{module.jpa.hibernate.monitor.jmx.activated}
	    	<#else>
	    		#i18n{module.jpa.hibernate.monitor.jmx.notActivated}
	    	</#if>
	    </p>
	    <#if !jmx_state>
	    <label for="activate_jmx">&nbsp;</label>   
	    <form method="post" action="jsp/admin/plugins/jpa/modules/hibernate/DoActivateJMX.jsp">
	    	<input type="submit" id="activate_jmx" name="activate_jmx" value="#i18n{module.jpa.hibernate.monitor.jmx.buttonActivate}" class="button" />
	    </form>
	    </#if>
    </div>
    
    <#list list_stats as stat>
    	 <div class="content-box">
    		<h2>#i18n{module.jpa.hibernate.monitor.stats.pool} : ${stat.poolName}</h2>
    		
    		<p>
    		<label for="">&nbsp;</label>
    		<form method="post" action="jsp/admin/plugins/jpa/modules/hibernate/DoClearStatistics.jsp">
    			<input type="hidden" name="pool_name" value="${stat.poolName}" />
	    		<input type="submit" id="activate_jmx" name="activate_jmx" value="#i18n{module.jpa.hibernate.monitor.stats.buttonClear}" class="button" />
	    	</form>
	    	</p>
	    	
	    	<#if stat.stats.statisticsEnabled>
<#-- Uncomment when freemarker is upgrade to provide number_to_datetime
    		<p>
    		<label for="">#i18n{module.jpa.hibernate.monitor.stats.startTime} : </label>
    		${stat.stats.startTime?number_to_datetime} 
    		</p>
-->
    		 
    		
    		<div class="highlight-box">
    		<h2>#i18n{module.jpa.hibernate.monitor.stats.sessions}</h2>
    		<p>
    		<label for="">connectCount : </label>
    		${stat.stats.connectCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">sessionCloseCount : </label>
    		${stat.stats.sessionCloseCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">sessionOpenCount : </label>
    		${stat.stats.sessionOpenCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">flushCount : </label>
    		${stat.stats.flushCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">successfulTransactionCount : </label>
    		${stat.stats.successfulTransactionCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">transactionCount : </label>
    		${stat.stats.transactionCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">optimisticFailureCount : </label>
    		${stat.stats.optimisticFailureCount?default("N/A")}
    		</p>
    		
    		</div>


    		<div class="highlight-box">
    		<h2>#i18n{module.jpa.hibernate.monitor.stats.entities}</h2>
    		<p>
    		<label for="">entityDeleteCount : </label>
    		${stat.stats.entityDeleteCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">entityLoadCount : </label>
    		${stat.stats.entityLoadCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">entityFetchCount : </label>
    		${stat.stats.entityFetchCount?default("N/A")}
    		</p>
    		
    		<#if stat.stats.entityNames?has_content>
    		
    		<table>
    		<tr>
    		<th>Entite</th>
    		<th>loadCount</th>
    		<th>fetchCount</th>
    		<th>optimisticFailureCount</th>
    		<th>insertCount</th>
    		<th>updateCount</th>
    		<th>deleteCount</th>
    		</tr>
    		
    		
    		<#list stat.stats.entityNames as entity>
    		<#assign entity_stats = stat.stats.getEntityStatistics(entity) />
    		<tr>
    		<td>${entity}</td>
    		<td>${entity_stats.loadCount?default("N/A")}</td>
    		<td>${entity_stats.fetchCount?default("N/A")}</td>
    		<td>${entity_stats.optimisticFailureCount?default("N/A")}</td>
    		<td>${entity_stats.insertCount?default("N/A")}</td>
    		<td>${entity_stats.updateCount?default("N/A")}</td>
    		<td>${entity_stats.deleteCount?default("N/A")}</td>
    		</tr> 
    		</#list>
    		</table>
			</#if>    		
    		</div>

    		<div class="highlight-box">
    		<h2>#i18n{module.jpa.hibernate.monitor.stats.queries}</h2>
    		<p>
    		<label for="">queryExecutionCount : </label>
    		${stat.stats.queryExecutionCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">queryExecutionMaxTime : </label>
    		${stat.stats.queryExecutionMaxTime!?default("N/A")}
    		</p>
    		<p>
    		<label for="">queryExecutionMaxTimeQueryString : </label>
    		${stat.stats.queryExecutionMaxTimeQueryString?default("N/A")}
    		</p>
    		<p>
    		<label for="">queries : </label>
    		<#if stat.stats.queries?has_content>
    		<table>
    		<tr>
    		<th>query</th>
    		<th>executionCount</th>
    		<th>executionAvgTime</th>
    		<th>executionMaxTime</th>
    		<th>cacheHitCount</th>
    		<th>cacheMissCount</th>
    		<th>cachePutCount</th>
    		</tr>
    		<#list stat.stats.queries as query>
    		<tr>
    		<td>${query}</td>
    		<#assign query_stats = stat.stats.getQueryStatistics(query) />
    		<td>${query_stats.executionCount?default("N/A")}</td>
    		<td>${query_stats.executionAvgTime?default("N/A")}</td>
    		<td>${query_stats.executionMaxTime?default("N/A")}</td>
    		<td>${query_stats.cacheHitCount?default("N/A")}</td>
    		<td>${query_stats.cacheMissCount?default("N/A")}</td>
    		<td>${query_stats.cachePutCount?default("N/A")}</td>
    		</tr>
    		</#list>
    		</table>
    		<#else>
    		N/A
    		</#if>
    		</p>
    		
    		</div>


    		<div class="highlight-box">
    		<h2>#i18n{module.jpa.hibernate.monitor.stats.cache}</h2>
    		<p>
    		<label for="">queryCacheHitCount : </label>
    		${stat.stats.queryCacheHitCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">queryCacheMissCount : </label>
    		${stat.stats.queryCacheMissCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">queryCachePutCount : </label>
    		${stat.stats.queryCachePutCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">secondLevelCacheHitCount : </label>
    		${stat.stats.secondLevelCacheHitCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">secondLevelCacheMissCount : </label>
    		${stat.stats.secondLevelCacheMissCount?default("N/A")}
    		</p>
    		<p>
    		<label for="">secondLevelCachePutCount : </label>
    		${stat.stats.secondLevelCachePutCount?default("N/A")}
    		</p>
    		
    		<#if stat.stats.secondLevelCacheRegionNames?has_content>
    		<table>
    		<tr>
    		<th>Region</th>
    		<th>hitCount</th>
    		<th>missCount</th>
    		<th>putCount</th>
    		<th>elementCountInMemory</th>
    		<th>elementCountOnDisk</th>
    		<th>sizeInMemory</th>
    		<tr>
    		
    		<#list stat.stats.secondLevelCacheRegionNames as region>
    		<tr>
    		<td>${region}</td>
    		<#assign region_stats=stat.stats.getSecondLevelCacheStatistics(region) />
    		<td>${region_stats.hitCount?default("N/A")}</td>
    		<td>${region_stats.missCount?default("N/A")}</td>
    		<td>${region_stats.putCount?default("N/A")}</td>
    		<td>${region_stats.elementCountInMemory?default("N/A")}</td>
    		<td>${region_stats.elementCountOnDisk?default("N/A")}</td>
    		<td>${region_stats.sizeInMemory?default("N/A")}</td>
    		</tr>
    		</#list>
    		
    		</table>
    		</#if>
    		
    		</div>
    		
    		<#else>
    		
    		<#-- statistics disabled-->
    		<p>
    			#i18n{module.jpa.hibernate.monitor.stats.disabled}
    		</p>
    		
    		</#if>
    		
        </div>
    </#list>
